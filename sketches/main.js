(()=>{var e={441:(e,t,n)=>{const o=function(){this.listen()};(o.prototype={listeners:["mousemove","mousedown","mouseup","mouseleave","touchstart","touchmove","touchend","touchcancel"],eventQueue:[],depth:1,preventDefault:!0,mono:!0,buffer:{},rejectedBuffer:[],touchStartTime:0,target:document,debounce:!0,customEvent:{enabled:!0,name:"touch-pickup"},classes:{allow:"allowDefault",prevent:"preventDefault"},actions:{default:{touch:(e,t,n)=>{},hover:(e,t,n)=>{},drag:(e,t,n)=>{},leave:(e,t,n)=>{},enter:(e,t,n)=>{},start:(e,t,n)=>{},end:(e,t,n)=>{}},".allowDefault":{start:function(){window.currentPreventDefault=!1},hover:function(){window.currentPreventDefault=!1},move:function(){window.currentPreventDefault=!1},drag:function(){window.currentPreventDefault=!1},leave:function(){window.currentPreventDefault=!1},enter:function(){window.currentPreventDefault=!1},end:function(){window.currentPreventDefault=!1}},".preventDefault":{touch:function(e,t,n){t.preventDefault()},hover:function(e,t,n){t.preventDefault()},move:function(){window.currentPreventDefault=!1},drag:function(e,t,n){t.preventDefault()},leave:function(e,t,n){t.preventDefault()},enter:function(e,t,n){t.preventDefault()},end:function(){window.currentPreventDefault=!1}}}}).constructor=o,["getListOfElements","matchActions","handleEvent","listen","unlisten","processElement","setDefaultAction","setAction","setActionsAsDictionary","assignAllowDefault","addStyles"].forEach((e=>o.prototype[e]=n(905)(`./${e}`))),e.exports=o},762:e=>{e.exports=function(){return this.stylesheet=document.createElement("style"),this.stylesheet.innerHTML=`.${this.classes.detect}{\n        pointer-events:auto;\n        touch-action:none;\n    }\n        \n.\n    ${this.classes.ignore}{\n        pointer-events:none;\n        touch-action:none;\n    }`,document.querySelector("head").appendChild(this.stylesheet),this}},562:e=>{e.exports=function(e={},t="add"){return e.querySelectorAll("*").forEach((e=>{e.classList[t](this.classes.allow)})),this}},841:e=>{e.exports=function(e,t,n=document){let o=n.elementsFromPoint(e,t);return o=Array.from(o).filter((e=>this.matchActions(e))),o=o.slice(0,this.depth),o}},378:(e,t,n)=>{const o=n(477).j8;e.exports=function(e){this.mono=!1,window.currentPreventDefault=this.preventDefault;let t=e;e.type.includes("mouse")&&("mousedown"==e.type?e={type:"touchstart",changedTouches:[{identifier:"mouse",clientX:e.clientX,clientY:e.clientY,preventDefault:function(e){e.preventDefault()}.bind(e)}]}:"mousemove"==e.type&&e.buttons>0?e={type:"touchmove",touches:[{identifier:"mouse",clientX:e.clientX,clientY:e.clientY,preventDefault:function(e){e.preventDefault()}.bind(e)}]}:"mouseup"==e.type&&(e={type:"touchend",changedTouches:[{identifier:"mouse",clientX:e.clientX,clientY:e.clientY,preventDefault:function(e){e.preventDefault()}.bind(e)}]})),"touchstart"==e.type?(0==Object.keys(this.buffer).length&&(this.touchStartTime=Date.now()),Array.from(e.changedTouches).forEach((t=>{this.buffer[t.identifier]={elements:{},history:{}},this.getListOfElements(t.clientX,t.clientY).slice(0,this.depth).forEach(((n,o)=>{this.processElement(n,t.identifier,o,"start",e,t)}))}))):"touchmove"==e.type?Array.from(e.touches).forEach((t=>{let n=[];this.getListOfElements(t.clientX,t.clientY).slice(0,this.depth).forEach(((o,i)=>{this.processElement(o,t.identifier,i,"move",e,t)&&n.push(o.id)})),Object.keys(this.buffer).length>0&&Object.entries(this.buffer[t.identifier].elements).forEach((([o,i],r)=>{n.includes(o)||(this.buffer[t.identifier].history[o]=this.buffer[t.identifier].elements[o],this.processElement(i.query,t.identifier,r,"leave",e,t,o),delete this.buffer[t.identifier].elements[o])}))})):"touchend"==e.type&&Array.from(e.changedTouches).forEach((t=>{Object.entries(this.buffer[t.identifier].elements).forEach((([n,o],i)=>{this.processElement(o.query,t.identifier,i,"end",e,t,n)})),delete this.buffer[t.identifier]})),this.eventQueue.forEach((([e,t,n,i,r])=>{"function"==typeof this.actions[e][t]&&this.actions[e][t](n,i,r),this.customEvent.enabled&&o(this.customEvent.name,r)})),this.eventQueue=[],window.currentPreventDefault&&t.preventDefault()}},447:e=>{e.exports=function(e=document){for(let t of this.listeners)e.addEventListener(t,this,!1);return console.log(`multitouch mapper listening on ${e==document?"document":e.id}...`),this}},796:e=>{e.exports=function(e){let t=!1;return Object.keys(this.actions).forEach(((n,o)=>{"object"==typeof e?e.matches(n)&&(t=!0):"string"==typeof e&&e==n&&(t=!0)})),t}},384:e=>{e.exports=function(e,t,n,o,i,r,s){let c=!1;return Object.entries(this.actions).forEach((([n,u],l)=>{let a=!1;if("object"==typeof e?(a=e.matches(n),s=e.id):"string"==typeof e&&(a=e==n,e=document.querySelector(`#${s}`)),a){let u=this.buffer[t].elements;const l=e.getBoundingClientRect();Object.keys(u).includes(s)?"move"==o?(u[s].type="move",u[s].query=n,u[s].delta.x=r.clientX-u[s].x,u[s].delta.y=r.clientY-u[s].y,u[s].path.x.push(r.clientX),u[s].path.y.push(r.clientY),u[s].x=r.clientX,u[s].y=r.clientY,u[s].relative.x=r.clientX-l.left,u[s].relative.y=l.bottom-r.clientY,u[s].distance.x=r.clientX-u[s].origin.x,u[s].distance.y=r.clientY-u[s].origin.y,u[s].iterations+=1):"end"==o?u[s].type="end":"leave"==o&&(u[s].type="leave"):u[s]={id:s,element:e,time:Date.now(),type:"start"==o?"start":"enter",x:r.clientX,y:r.clientY,query:n,iterations:0,rect:{original:l,current:l},origin:{x:r.clientX,y:r.clientY},relative:{x:r.clientX-l.left,y:l.bottom-r.clientY,range:{x:l.width,y:l.height}},distance:{x:0,y:0},path:{x:[r.clientX],y:[r.clientY]},delta:{x:0,y:0}},this.eventQueue.push([n,u[s].type,e,i,u[s]]),c=!0}})),c}},807:e=>{e.exports=function(e,t,n){return Object.keys(this.actions).includes(e)||(this.actions[e]={}),Object.assign(this.actions[e],{start:function(e,t,n){},enter:function(e,t,n){},move:function(e,t,n){},leave:function(e,t,n){},end:function(e,t,n){}}),"object"==typeof t?this.setActionsAsDictionary(e,t):"string"==typeof t&&("all"==t?Object.keys(this.actions[e]).forEach((t=>{this.actions[e][t]=n.bind(this)})):this.actions[e][t]=n.bind(this)),this}},21:e=>{e.exports=function(e,t={}){return Object.entries(t).forEach((([t,n])=>{this.actions[e][t]=n})),this}},838:e=>{e.exports=function(e){return this.setAction("default","all",e),this}},411:e=>{e.exports=function(e=document){for(let t of this.listeners)e.removeEventListener(t,this);return console.log(`removed multitouch mapper listener on ${e==document?"document":e.id}...`),this}},905:(e,t,n)=>{var o={"./addStyles":762,"./addStyles.js":762,"./assignAllowDefault":562,"./assignAllowDefault.js":562,"./getListOfElements":841,"./getListOfElements.js":841,"./handleEvent":378,"./handleEvent.js":378,"./listen":447,"./listen.js":447,"./matchActions":796,"./matchActions.js":796,"./processElement":384,"./processElement.js":384,"./setAction":807,"./setAction.js":807,"./setActionsAsDictionary":21,"./setActionsAsDictionary.js":21,"./setDefaultAction":838,"./setDefaultAction.js":838,"./unlisten":411,"./unlisten.js":411};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=905},477:(e,t,n)=>{"use strict";n.d(t,{j8:()=>l});var o=function(e,t){Object.entries(t).forEach((t=>{let[n,o]=t;switch(n){case"custom":Object.entries(o).forEach((t=>e.setAttribute(...t)));break;case"style":Object.entries(o).forEach((t=>e.style[t[0]]=t[1]));break;case"dataset":Object.entries(o).forEach((t=>e.dataset[t[0]]=t[1]));break;default:e[n]=o}}))},i=i||"http://www.w3.org/2000/svg",r=function(e,t,n=document){let r=n.createElementNS(i,e);return o(r,t),r},s=function(e,t,n,o={},i){i||"undefined"==typeof document||(i=document);let s={custom:{attributeName:"fill",begin:"indefinite",repeatCount:"1",dur:"1s",fill:"freeze",keyTimes:"0; 1",values:"red; blue"}};"object"==typeof arguments[0]&&(Object.assign(s.custom,arguments[0].custom),"dur"in s.custom||(s.custom.dur=`${arguments[0].duration}s`),t=arguments[0].events,n=arguments[0].duration,arguments.length>1&&(i=arguments[1]));let c="",u="";if(!Array.isArray(t)){let e=[];Object.keys(t).forEach((n=>{e.push([n,t[n]])})),(t=e).sort(((e,t)=>e[0]-t[0]))}t.forEach((([e,n],o)=>{parseFloat(e)%1==0&&(e+=".00");let i=o<Object.keys(t).length-1?"; ":"";u+=`${e}${i}`,c+=`${n}${i}`})),s.custom.values=c,s.custom.keyTimes=u;let l=r("translate"==e?"animateTransform":"animate",s,i);return l=Object.assign(l,o),l},c=function(e,t,n,o=!1){return(e=o?Math.floor(e):e)>n?n:e<t?t:e},u=function(e,t,n){n||"undefined"==typeof document||(n=document);let i=n.createElement(e);return o(i,t),i};const l=function(e,t={}){document.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0,composed:!1}))};var a=function(e,t=0){return e=Tone.Frequency(e,"midi").transpose(t),Tone.Frequency(e,"midi").toFrequency()},f=function(e,t=0){return e=Tone.Frequency(e).transpose(t),Tone.Frequency(e).toFrequency()};function d(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","filter");return n.setAttribute("id",e),n.setAttribute("filterUnits",t),n}function h(e,t,n){const o=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");return o.setAttribute("id",e),o.setAttribute("type",t),o.setAttribute("values",n),o}function m(e){const t=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");return t.setAttribute("id",e),t}function p(e){const t=document.createElementNS("http://www.w3.org/2000/svg","animate");return Object.keys(e).forEach((n=>{t.setAttribute(n,e[n])})),t}function y(e){const t=d(e.id,e.filterUnits),n=m("feComponentTransfer1");return t.appendChild(n),Object.keys(e.components).forEach((n=>{const o=e.components[n],i=h(o.id,o.type,o.values);t.appendChild(i)})),Object.keys(e.animations).length>0&&Object.keys(e.animations).forEach((n=>{const o=p(e.animations[n]);t.appendChild(o)})),t}function v(e){return parseInt(e,16)/255}function b(e){let t=Math.round(255*e).toString(16);return t=1===t.length?`0${t}`:t,t}const g=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e);console.log("running cm-toolbox");var w={CSSToggle:class{constructor(e,t=!1,n=.1,o=.3,i="hc--light",r="fill"){this.element=e,this.on=t,this.attack=n,this.release=o,this.effectClass=i}toggle(){this.on=!this.on;let{element:e,on:t,attack:n,release:o,effectClass:i}=this;e.style.transition=`fill ${t?n:o}s ease`,e.classList[t?"add":"remove"](i)}trigger(e,t=!0){this.on=e;let{element:n,attack:o,release:i,effectClass:r}=this;n.style.transition=`fill ${e?o:i}s ease`,n.classList[e?"add":"remove"](r)}set attack(e){this._attack=e}set release(e){this._release=e}},addAnimation:function(e,t,n,o,i={},r){r||"undefined"==typeof document||(r=document);let c,u="object"==typeof e?e:r.getElementById(e);if("object"==typeof arguments[1]){let e={custom:{}};Object.assign(e,arguments[1]),arguments.length>2&&(r=arguments[2]),"id"in e.custom||(e.custom.id=`${u.id}_${t}`),c=s(e,r)}else"id"in i||(i.id=`${u.id}_${t}`),c=s(t,n,o,i,r);return u.appendChild(c),c},constrain:c,create:u,createFilter:function(e,t){let n={filter:r("filter",{id:e,custom:{filterUnits:"objectBoundingBox",x:"0",y:"0",width:"100%",height:"100%"}}),animation:{},update:{}};return"string"==typeof t&&(t=[t]),t.forEach((o=>{n[o]=r("feColorMatrix",{id:`${e}_${o}`,custom:{type:t,in:"SourceGraphic",values:0}}),n.filter.appendChild(n[o]),n.animation[o]=s("values",[[0,0],[1,1]],.1),n[o].appendChild(n.animation[o]),n.update[o]=function(e,t="unspecified",i="unspecified"){"unspecified"==i&&(i=n[o].values.animVal.getItem("value").value),"unspecified"!=t&&n.animation[o].setAttribute("dur",`${t}s`),n.animation[o].setAttribute("values",`${i};${e}`),console.log(n.animation[o]),n.animation[o].beginElement()}})),n},createAnimation:s,createNS:r,emit:l,ftos:function(e,t=0){return sym=Tone.Frequency(e).transpose(t),Tone.Frequency(e).toNote()},getTranslate:e=>{const t=getComputedStyle(e).transform,{e:n,f:o}="none"==t?{e:0,f:0}:new DOMMatrix(t);return{x:n,y:o}},hexToInt:function(e){let t=[0,0];for(let n=0;n<2;n++)t[n]=e.charCodeAt(n),t[n]-=t[n]>=65?55:48;return t[0]*=16,t[0]+t[1]},interpolate:function(e,t,n,o=!1){let i=(1-n)*e+n*t;return i=o?Math.floor(i):i,i},intToHex:function(e){let t=[0,0];t[0]=Math.floor(e/16),t[1]=e%16;for(let e in t)t[e]=t[e]>9?String.fromCharCode(t[e]+55):t[e];return`${t[0]}${t[1]}`},map:function(e,t,n,o,i,r=!1,s=!1){return e=(e-t)*(i-o)/(n-t)+o,e=s?Math.floor(e):e,r?c(e,o,i):e},mtof:a,mtos:function(e,t=0){return e=Tone.Frequency(e,"midi").transpose(t),Tone.Frequency(e,"midi").toNote()},populate:function(e,t,n=!1,o="option"){t.forEach((t=>{e.appendChild(u(o,{value:t,innerHTML:t})),0!=n&&(e.value=n)}))},rot:function(e,t){let n=[e.slice(t),e.slice(0,t)];return n[0].concat(n[1])},set:o,setInTree:function(e=[],t=0,n=this){"string"==typeof e&&(e=e.split("_"));var o=n;e.forEach(((e,t,n)=>{t<n.length-1&&(o=o[e])})),console.log(o,t),o[e[e.length-1]]=t},setNS:function(e,t){Object.entries(t).forEach((t=>{let[n,o]=t;switch(n){case"custom":Object.entries(o).forEach((t=>{e.setAttributeNS(xmlns,...t)}));break;case"style":Object.entries(o).forEach((t=>e.style[t[0]]=t[1]));break;default:e[n]=o}}))},srtToSbv:function(e){return e.trim().split(/\n\s*\n/).map(((e,t)=>{const n=e.trim().split(/\n/),[o,i]=n[1].split(" --\x3e "),r=[o.replace(",","."),i.replace(",",".")],s=n.slice(2).join("\n");return`${r[0]},${r[1]}\n${s}\n\n`})).join("")},stom:function(e,t=0){return e=Tone.Frequency(e).transpose(t),Tone.Frequency(e).toMidi()},stof:f,toggleFullscreen:()=>document.fullscreenElement?(document.exitFullscreen(),!0):document.webkitFullscreenElement?(document.webkitExitFullscreen(),!0):document.documentElement.requestFullscreen?(document.documentElement.requestFullscreen(),!0):document.documentElement.webkitRequestFullscreen?(document.documentElement.webkitRequestFullscreen(),!0):(window.top!=window.self?window.top.location.href=window.location.href:window.history.back(),!1),transposeForPlayer:function(e,t){return"string"==typeof e?e=f(e):"number"==typeof e&&(e=a(e)),"string"==typeof t?t=f(t):"number"==typeof t&&(t=a(t)),e/t},v:function(e){return Tone.gainToDb(e)},within:function(e=0,t=0,n={left:0,right:0,top:0,bottom:0}){let o={left:e>=n.left,right:e<=n.right,top:t>=n.top,bottom:t<=n.bottom},i=[];return Object.keys(n).forEach((e=>{e in o&&i.push(o[e])})),i.every((e=>!0===e))},generateSVGFilter:d,generateFeColorMatrix:h,generateFeComponentTransfer:m,generateAnimate:p,addFiltersToDefs:function(e,t=document.querySelector("svg")){Object.keys(e).forEach((t=>{const n=y(e[t]);if(!document.querySelector("svg defs")){const e=document.createElementNS("http://www.w3.org/2000/svg","defs");document.querySelector("svg").insertBefore(e,document.querySelector("svg").firstChild)}document.querySelector("svg defs").appendChild(n)}));const n=t.cloneNode(!0);t.parentNode.replaceChild(n,t)},filterFromDictionary:y,applyFilter:function(e,t){const n=t.cloneNode(!0);n.setAttribute("filter",`url(#${e.id})`),t.parentNode.replaceChild(n,t),document.querySelector(`#${e.id}`).querySelectorAll("animate").forEach((e=>{e.setAttribute("href",`#${e.getAttribute("href").slice(1)}${t.id}`),e.setAttribute("id",`${e.getAttribute("id")}${t.id}`)}))},setSvgTextClass:function(e,t,n="selected"){Array.from(e.children).filter((e=>"svg"==e.tagName)).forEach((e=>{e.querySelectorAll("text").forEach((e=>{e.classList[t](n)}))}))},hexToRGB:function(e){return[v(e.slice(1,3)),v(e.slice(3,5)),v(e.slice(5,7))]},RGBToHSL:function(e,t,n){let o,i,r=Math.max(e,t,n),s=Math.min(e,t,n),c=(r+s)/2;if(r==s)o=i=0;else{var u=r-s;switch(i=c<.5?u/(r+s):u/(2-r-s),r){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return o=Math.round(360*o),i=Math.round(100*i),c=Math.round(100*c),[o,i,c]},HSLToHex:function(e,t,n){let o;if(e/=360,n/=100,0==(t/=100))o=[n,n,n];else{const i=n<.5?n*(1+t):n+t-n*t,r=2*n-i;o=[g(r,i,e+1/3),g(r,i,e),g(r,i,e-1/3)]}return o=o.map((e=>b(e))),`#${o.join("")}`},floatToHexDigit:b,hexDigitToFloat:v};"undefined"!=typeof module&&module.exports?(console.log("cm-toolbox running in node...success!"),module.exports=w):"undefined"!=typeof globalThis?globalThis.CM=w:"undefined"!=typeof window&&(window.CM=w)}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(441)})()})();